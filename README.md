# RebusNoDispatchHandlerTest
Contains test cases that simulate a minimal pipeline (on Core 2.2+ using MS DI) and trying to recreate a `MessageCouldNotBeDispatchedToAnyHandlersException` exception.  See Rebus [issue](https://github.com/rebus-org/Rebus/issues/770).  The `DispatchIncomingMessageStep` step supplied by the default pipeline is the only place that particular exception is thrown.  There is a counter on the number of handlers incremented after every handler invocation.  The list of handles (`HandlerInvokers`) in pulled from the incoming step context (i.e. just a bag keyed by type).  The handlers are defined in the `ActivateHandlersStep` step based on the message type.  So everything is keyed off types caching information in Concurrent Dictionaries which are thread safe (except for the GetOrAdd functions).
